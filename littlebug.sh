#!/bin/bash
export lang=ja_jp.utf-8

: "çµ‚äº†æ™‚ã‚¯ãƒªãƒ³ãƒŠãƒƒãƒ—" && {
	# ä½œæ¥­ç”¨ä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å¾Œå§‹æœ«ç”¨é–¢æ•°ã¨ãƒˆãƒ©ãƒƒãƒ—è¨­å®š
	function cleanup_tmpdir() {
		:
	}
	trap cleanup_tmpdir INT
	trap cleanup_tmpdir EXIT
}

: â€åˆæœŸãƒã‚§ãƒƒã‚¯â€ && {
	#GUN AwkãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
	if [[ $(gawk --virsion > /dev/null 2>&1 ) =~ 'GNU Awk' ]] ; then
			echo "è­¦å‘Š: gunç‰ˆawk ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚gunç‰ˆawk ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚" >&2
			return 1
	fi

	declare tgtFile="$(basename "${1}")"   #å¼•æ•°ã§æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¯¾è±¡ã¨ã™ã‚‹
	if [[ "${tgtFile/ /}" = '' ]];then
		echo "ğŸ’©å¤‰æ›å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„"
		exit 1
	fi

	if [[ ! -e "${tgtFile}" ]]; then
		echo "ğŸ’© ${tgtFile}ãªã‚“ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã„ãªã„ã§ã™"
		exit 1
	fi

	convMode="${2}"  #'-t2h'ã§txtâ†’htmlã€'-h2t'ã§htmlâ†’txtã€ãã‚Œä»¥å¤–ã¯ä»Šã®æ‰€ã¯ã‚¨ãƒ©ãƒ¼

	if [[ "${convMode}" != '' ]] && [[ "${convMode}" != '-t' ]] ; then
		echo "ğŸ’© å¼•æ•°1ã¯ã€ç„¡ã—(txtâ†’html)ã‹ã€-t(htmlâ†’txt)ã§æŒ‡å®šã—ã¦ãã ã•ã„"
		exit 1
	fi
}

: "åˆæœŸå‡¦ç†" && {
	# æ–‡å­—ã‚³ãƒ¼ãƒ‰ç¢ºèªãƒ»å¤‰æ›ã€ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ãƒ•ã‚¡ã‚¤ãƒ«ã®å®šç¾©
	chrset="$(file -i ${tgtFile})"

	SCRIPT_DIR=$(cd $(dirname $0); pwd)

	# å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã€unknown-8bit(SJIS)ãªã‚‰UTF-8ã«å¤‰æ›ã™ã‚‹
	if [[ "${chrset##*charset=}" != 'utf-8' ]] ; then
		echo 'å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã®charset(æ–‡å­—ã‚³ãƒ¼ãƒ‰)ãŒUTF-8ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å‡¦ç†ã¯ç¶šè¡Œã—ã¾ã™ãŒã€å¤‰æ›çµæœã‚’ä¿è¨¼ã—ã¾ã›ã‚“ã€‚'
		echo 'â€»  ãƒ•ã‚¡ã‚¤ãƒ«å†…ã«æ—¥æœ¬èªæ–‡å­—ãŒä¸€ã¤ã‚‚å«ã¾ã‚Œã¦ã„ãªã„å ´åˆã€æ­£ã—ãUTF-8ã§ã‚ã£ã¦ã‚‚ã“ã®è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™'
	fi
}

: "txtâ†’htmlå¤‰æ›å‡¦ç†" && {
	# if [[ "${convMode}" = '-t2h' ]]; then
		## txtâ†’html ############################################################################################

		destFile="${tgtFile/'.txt'/'_tagged.html'}" #å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã®æŒ‡å®šã™ã‚‹
		printf '' > "${destFile}"

	: "è­¦å‘Šè¡¨ç¤º" && {
		##è­¦å‘Šè¡¨ç¤º####################################################################
		# å¤‰æ›ä¸èƒ½ãªã‚±ãƒ¼ã‚¹ã‚’äºˆã‚æŠ½å‡ºã™ã‚‹ã€‚
		# å‡¦ç†ã¯ä¸­æ–­ã›ãšæœ€å¾Œã¾ã§è¡Œã†ãŒã€è­¦å‘Šè¡¨ç¤ºã‚’è¡Œã†ã€‚
		# ãŠãã‚‰ãå¤‰æ›å‡¦ç†ã¯æˆåŠŸã—ãªã„ã€‚
		##############################################################################
		# ãƒ«ãƒ“æŒ‡å®šã«å‚ç‚¹ã®åŒæ™‚æŒ‡å®š
		# ï½œã€Šã€‹ã®å…¨ä½“ã‹æ¯å­—éƒ¨åˆ†ã‹ã®ã©ã¡ã‚‰ã‹ã«ã€ã€Šã€Šã€‹ã€‹æŒ‡å®šãŒå…¥ã‚Œå­ã•ã‚Œã¦ã„ã‚‹â€»ãƒ«ãƒ“æ–‡å­—éƒ¨åˆ†ã¸ã®ç‰¹æ®ŠæŒ‡å®šã¯å¾Œç¶šã§ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã‚‹
		grep -E -o -n 'ï½œ[^ã€Š]*ã€Šã€Š[^ã€‹]+ã€‹ã€‹ã€Š[^ã€‹]+ã€‹|ã€Šã€Š[^ï½œ]*ï½œ[^ã€Š]+ã€Š[^ã€‹]+ã€‹[^ã€‹]*ã€‹ã€‹' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã§ãƒ«ãƒ“ã¨å‚ç‚¹ãŒåŒæ™‚ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸é©åˆ‡ãªæŒ‡å®šã§ã™ã€‚å¤‰æ›çµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“ã€‚' 
		fi
		#2æ–‡å­—ä»¥ä¸Šã«å›è»¢æŒ‡å®š
		grep -E -o -n '\[\^[^\^]{2,}\^\]' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã§2æ–‡å­—ä»¥ä¸Šã®ç¯„å›²ã«å›è»¢ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸é©åˆ‡ãªæŒ‡å®šã§ã™ã€‚å¤‰æ›çµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“ã€‚' 
		fi
		#ãƒ«ãƒ“å…¨ä½“ã¸ã®å›è»¢æŒ‡å®šâ€»æ¯å­—ã®ã¿ã‚ã‚‹ã„ã¯ãƒ«ãƒ“æ–‡å­—ã®ã¿ã¯è¨±å®¹ã™ã‚‹
		grep -E -o -n '\[\^[^ï½œ]*ï½œ[^ã€Š]*ã€Šã€Š[^ã€‹]+ã€‹ã€‹[^\^]*\^\]' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã§ãƒ«ãƒ“ã¨å›è»¢ãŒåŒæ™‚ã«æŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸é©åˆ‡ãªæŒ‡å®šã§ã™ã€‚å¤‰æ›çµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“ã€‚' 
		fi
		#ãƒ«ãƒ“æŒ‡å®šå…¨ä½“ã¸ã®ç¸¦ä¸­æ¨ªâ€»æ¯å­—ã®ã¿ã‚ã‚‹ã„ã¯ãƒ«ãƒ“æ–‡å­—ã®ã¿ã¯è¨±å®¹ã™ã‚‹
		grep -E -o -n '\^[^ï½œ]*ï½œ[^ã€Š]*ã€Šã€Š[^ã€‹]+ã€‹ã€‹[^\^]*\^' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã§ãƒ«ãƒ“æŒ‡å®šå…¨ä½“ã¸ã®ç¸¦ä¸­æ¨ªãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸é©åˆ‡ãªæŒ‡å®šã§ã™ã€‚å¤‰æ›çµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“ã€‚' 
		fi
		# ç¸¦ä¸­æ¨ªã®ä¸­ã«åŠè§’è‹±æ•°è¨˜å·ä»¥å¤–(æ–‡å­—ã‚³ãƒ¼ãƒ‰ä¸Šã€ŒåŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã€ã€œã€Œ~ã€ã®é ˜åŸŸ)ãŒå«ã¾ã‚Œã¦ã„ã‚‹
		# ãŸã ã—ã€ç¸¦ä¸­æ¨ªå…¨ä½“ã¸ã®å¤ªå­—ã¨å‚ç‚¹ã¯ã¯è¨±å®¹ã™ã‚‹ãŸã‚ã€ã€Šã€‹*ã‚‚ã“ã‚Œã‚‰ã«å«ã‚ãªã„ã€‚
		grep -E -o -n '\^[^\^]*[^ -~ã€Šã€‹]+[^\^]*\^' "${tgtFile}" >"${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã§ç¸¦ä¸­æ¨ªã®ä¸­ã«åŠè§’è‹±æ•°æ–‡å­—ä»¥å¤–ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®å¤‰æ›ã¯éå¯¾å¿œã§ã™ã€‚å¤‰æ›ã¯å®Ÿæ–½ã—ã¾ã™ãŒçµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“ã€‚' 
		fi
		# ç¸¦ä¸­æ¨ªæŒ‡å®šã®ä¸€éƒ¨ã«å¤ªå­—æŒ‡å®š
		# ç¸¦ä¸­æ¨ªæŒ‡å®š^æ–‡å­—^ã®ä¸­ã«ã€**ã¨**ã§æ‹¬ã‚‰ã‚Œã¦ã„ãªã„æ–‡å­—ãŒ1æ–‡å­—ä»¥ä¸Šã‚ã‚‹
		grep -E -o -n '\^[^\*]+\*\*[^\*]+\*\*\^|\^\*\*[^\*]+\*\*[^\*]+\^' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã§ç¸¦ä¸­æ¨ªã®ä¸€éƒ¨ã«ã ã‘å¤ªå­—ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®å¤‰æ›ã¯éå¯¾å¿œã§ã™ã€‚å¤‰æ›çµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“ã€‚' 
		fi
		# 4æ–‡å­—ä»¥ä¸Šã®ç¸¦ä¸­æ¨ª()
		# ãŸã ã—ã€ç¸¦ä¸­æ¨ªå…¨ä½“ã¸ã®å¤ªå­—ã¨å‚ç‚¹ã¯ã¯è¨±å®¹ã™ã‚‹ãŸã‚ã€ã€Šã€‹*ã‚‚ã“ã‚Œã‚‰ã«å«ã‚ãªã„ã€‚
		grep -E -o -n '\^(\*\*)*[^\*ã€Šã€‹]{4,}(\*\*)*\^' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã§4æ¡ä»¥ä¸Šã®ç¸¦ä¸­æ¨ªãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®å¤‰æ›ã¯éå¯¾å¿œã§ã™ã€‚å¤‰æ›ã¯å®Ÿæ–½ã—ã¾ã™ãŒçµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“ã€‚' 
		fi
		# ç¸¦ä¸­æ¨ªæŒ‡å®šã®ä¸€éƒ¨ã«ã®ã¿å‚ç‚¹æŒ‡å®š
		grep -E -o -n '\^[^ã€Š]+ã€Šã€Š[^ã€‹]+ã€‹ã€‹\^|\^ã€Šã€Š[^ã€‹]+ã€‹ã€‹[^ã€‹]+\^' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã§ç¸¦ä¸­æ¨ªã®ä¸€éƒ¨ã«ã ã‘å‚ç‚¹ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸é©åˆ‡ãªæŒ‡å®šã§ã™ã€‚å¤‰æ›ã¯å®Ÿæ–½ã—ã¾ã™ãŒçµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“ã€‚' 
		fi
		# ãƒ«ãƒ“æŒ‡å®šå…¨ä½“ã«å›è»¢æŒ‡å®š
		grep -E -o -n '\[\^ï½œ[^ã€Š]+ã€Š[^ã€‹]+ã€‹\^\]' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã§ãƒ«ãƒ“æŒ‡å®šã®å…¨ä½“ã«å›è»¢ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸é©åˆ‡ãªæŒ‡å®šã§ã™ã€‚å¤‰æ›ã¯å®Ÿæ–½ã—ã¾ã™ãŒçµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“ã€‚' 
		fi
		# å¼·åˆ¶åˆå­—ã®æŒ‡å®šãŒ2æ–‡å­—ã§ã¯ãªã„
		# 1æ–‡å­—ã‹ã€3æ–‡å­—ä»¥ä¸Šã¯é§„ç›®
		grep -E -o -n '\[l\[[^\]\]r\]|\[l\[[^\]{3}\]r\]' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã§å¼·åˆ¶åˆå­—ã«ã¯2æ–‡å­—ã ã‘ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚ã“ã®å¤‰æ›ã¯éå¯¾å¿œã§ã™ã€‚å¤‰æ›ã¯å®Ÿæ–½ã—ã¾ã™ãŒçµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“ã€‚' 
		fi
		# ã‚¢ã¸æ¿ç‚¹ã«å›è»¢æŒ‡å®š
		grep -E -o -n '\[\^.ã‚›\^\]' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã§å¼·åˆ¶æ¿ç‚¹ã«å›è»¢ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®å¤‰æ›ã¯éå¯¾å¿œã§ã™ã€‚å¤‰æ›ã¯å®Ÿæ–½ã—ã¾ã™ãŒçµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“ã€‚' 
		fi
		# ãƒ«ãƒ“æ–‡å­—ã«ç‰¹æ®ŠæŒ‡å®š
		## ãƒ«ãƒ“æ–‡å­—ã«ãƒ«ãƒ“
		grep -E -o -n 'ï½œ[^ã€Š]+ã€Š[^ï½œ]*ï½œ[^ã€Š]+ã€Š[^ã€‹]+ã€‹[^ã€‹]*ã€‹' "${tgtFile}" > "${destFile}"
		## ãƒ«ãƒ“æ–‡å­—ã«å¤ªå­—
		grep -E -o -n 'ï½œ[^ã€Š]+ã€Š[^ã€Š]*ã€Šã€Š[^ã€‹]+ã€‹ã€‹[^ã€‹]*ã€‹' "${tgtFile}" >> "${destFile}"
		## ãƒ«ãƒ“æ–‡å­—ã«å›è»¢
		grep -E -o -n 'ï½œ[^ã€Š]+ã€Š[^\[]*\[\^\[^\^]\^\][^ã€‹]*ã€‹' "${tgtFile}" >> "${destFile}"
		## ãƒ«ãƒ“æ–‡å­—ã«åˆå­—
		grep -E -o -n 'ï½œ[^ã€Š]+ã€Š[^[]*[l[[^]]{2}]r][^ã€‹]*ã€‹' "${tgtFile}" >> "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã§ãƒ«ãƒ“æ–‡å­—ã«ä¿®é£¾ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®å¤‰æ›ã¯éå¯¾å¿œã§ã™ã€‚å¤‰æ›ã¯å®Ÿæ–½ã—ã¾ã™ãŒçµæœã¯ä¿è¨¼ã•ã‚Œã¾ã›ã‚“ã€‚' 
		fi
		# ä¸è¦ãªã‚¹ãƒšãƒ¼ã‚¹(æ”¹è¡Œç›´å‰ã®ã‚¹ãƒšãƒ¼ã‚¹ã€é–‰ã˜æ‹¬å¼§ç›´å‰ã®ã‚¹ãƒšãƒ¼ã‚¹)
		grep -E -o -n '[ ã€€]$|[ ã€€]([ã€ã€ï¼‰ã€Ÿ])|^(Â§+)[ ã€€]' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã«ä¸è¦ãªã‚¹ãƒšãƒ¼ã‚¹(æ”¹è¡Œç›´å‰ã®ã‚¹ãƒšãƒ¼ã‚¹ã€é–‰ã˜æ‹¬å¼§ç›´å‰ã®ã‚¹ãƒšãƒ¼ã‚¹ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¨˜å·ç›´å¾Œã®ã‚¹ãƒšãƒ¼ã‚¹)ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚'
			echo 'å†…éƒ¨çš„ã«é™¤å»ã—ã¦å¤‰æ›ã‚’å®Ÿæ–½ã—ã¾ã™ï¼ˆå…ƒãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¿®æ­£ã—ã¾ã›ã‚“ãŒã€ä¿®æ­£ãŒå¿…è¦ãªç®‡æ‰€ã§ã™ï¼‰ã€‚'
		fi
		#çµ„ç‰ˆæ™‚ã«ç½®æ›ã•ã‚Œã‚‹è¨˜å·é¡
		##è¡¨è¨˜ã‚†ã‚Œã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹è¨˜å·ã®çµ±ä¸€
		grep -E -o -n '[â™¡â™¥â˜†â–¡â™«â™¬]' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã«å«ã¾ã‚Œã‚‹è¨˜å·ã¯å¤‰æ›å¾Œã€åˆ¥ã®è¨˜å·ã«ç½®æ›ã•ã‚Œã¾ã™ã€‚ï¼ˆå…ƒãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¿®æ­£ã—ã¾ã›ã‚“ï¼‰'
		fi
		##çµ„ç‰ˆæ™‚ã«ç½®æ›ã•ã‚Œã‚‹é€£ç¶šã€Œâ€•ã€
		grep -E -o -n 'â€•{2,}' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã«å«ã¾ã‚Œã‚‹ã€é€£ç¶šã™ã‚‹ã€Œâ€•ã€ã¯ã€å€ã‚µã‚¤ã‚ºã®ä¸€ã¤ã®ã€Œâ€•ã€ã¸å¤‰æ›ã•ã‚Œã¾ã™(å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¿®æ­£ã—ã¾ã›ã‚“)'
		fi
		##ï¼ï¼Ÿã®ãƒšã‚¢
		grep -E -o -n 'ï¼ï¼|ï¼ï¼Ÿ|ï¼Ÿï¼|ï¼Ÿï¼Ÿ' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã«å«ã¾ã‚Œã‚‹ã€ï¼!ã€ï¼ï¼Ÿãªã©ã®ãƒšã‚¢ã¯å¤‰æ›å¾Œã€ï¼‘æ–‡å­—å¹…ã«åã¾ã‚‹ã‚ˆã†ã«åŠè§’ã®ãƒšã‚¢ã«å¤‰æ›ã•ã‚Œã¾ã™(å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¿®æ­£ã—ã¾ã›ã‚“)'
		fi
		grep -E -o -n '^(Â§+)[ ã€€]' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã«å«ã¾ã‚Œã‚‹ã€ï¼!ã€ï¼ï¼Ÿãªã©ã®ãƒšã‚¢ã¯å¤‰æ›å¾Œã€ï¼‘æ–‡å­—å¹…ã«åã¾ã‚‹ã‚ˆã†ã«åŠè§’ã®ãƒšã‚¢ã«å¤‰æ›ã•ã‚Œã¾ã™(å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¿®æ­£ã—ã¾ã›ã‚“)'
		fi
		grep -E -o -n '^$' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘ã«å«ã¾ã‚Œã‚‹ç©ºè¡Œã¯ã€å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã®è¨˜è¿°ã«é–¢ã‚ã‚‰ãšã€å¤‰æ›è¦å‰‡ã«å‰‡ã£ã¦å‰Šé™¤ã‚ã‚‹ã„ã¯è¿½åŠ ã•ã‚Œã¾ã™(å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¿®æ­£ã—ã¾ã›ã‚“)'
		fi
		# è¨˜å·é¡ã®ç›´å¾Œã®ã‚¹ãƒšãƒ¼ã‚¹
		grep -E -o -n '[!\?ï¼ï¼Ÿâ¤ğŸ’ğŸ’•â™ªâ˜†â˜…ğŸ’¢]+ã€€*[^ã€ã€ï¼‰!\?ï¼ï¼Ÿâ¤ğŸ’ğŸ’•â™ªâ˜†â˜…ğŸ’¢]' "${tgtFile}" > "${destFile}"
		if [[ -s "${destFile}" ]]; then 
			cat "${destFile}"
			echo 'ğŸ¤” â†‘è¨˜å·é¡ã®ç›´å¾Œã«ã€ãã‚ŒãŒé€£ç¶šã™ã‚‹ã‹è¡Œæœ«ãƒ»æ‹¬å¼§å†…æœ«å°¾ã§ãªã„é™ã‚Šã€ã‚¹ãƒšãƒ¼ã‚¹ã‚’æŒ¿å…¥ã—ã¾ã™(å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¿®æ­£ã—ã¾ã›ã‚“)'
		fi

	}

	: "å¤‰æ›å®Ÿæ–½" && {
		#awkã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
   awk -f "${SCRIPT_DIR}/littlebug.awk" "${tgtFile}" > "${destFile}"

	}

	echo "âœ¨ "${destFile}"ã‚’å‡ºåŠ›ã—ã¾ã—ãŸ[htmlåŒ–]"

}

# elif [[ "${convMode}" = '-h2t' ]]; then
#   ## htmlâ†’txt ############################################################################################

#   destFile=${tgtFile_AfterCD/".html"/"_removed.txt"} #å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã®æŒ‡å®šã™ã‚‹
#   touch ${destFile}                          #å‡ºåŠ›å…ˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ

#   ## littlebugXX.cssã®èª­ã¿è¾¼ã¿ã‚’é™¤å»ã™ã‚‹
#   cat ${tgtFile_AfterCD} \
#   | sed -z 's/<link rel=\"stylesheet\" href=\".\+littlebug.\+css\">//' \
#   | sed -z 's/<link rel=\"preconnect\" href=\"https:\/\/fonts\.googleapis\.com\">\n//' \
#   | sed -z 's/<link rel=\"preconnect\" href=\"https:\/\/fonts\.gstatic\.com\" crossorigin>\n//' \
#   | sed -z 's/<link href=\"https:\/\/fonts\.googleapis\.com\/css2\?family=Noto\+Serif\+JP:wght\@300\&display=swap\" rel=\"stylesheet">\n//' \
#   >tmp1_ltlbgtmp
	
#   ############################################################################################
#   #å…¥ã‚Œå­æ§‹é€ ã«ãªã‚Šã†ã‚‹ã‚¿ã‚°ã®å¾©æ—§1ã€‚å¤–å´ã€‚ä¿®é£¾ã¯æœ€å¤§3ãªã®ã§ã€å¾©æ—§å‡¦ç†ã‚’3å›åå¾©ã™ã‚‹
#   ############################################################################################
#   for i in $(seq 0 2); do
#     ############################################################################################
#     #å…¥ã‚Œå­æ§‹é€ ã«ãªã‚Šã†ã‚‹ã‚¿ã‚°ã®å¾©æ—§2ã€‚å†…å´ã€‚ä¿®é£¾ã¯æœ€å¤§3ãªã®ã§ã€å¾©æ—§å‡¦ç†ã‚’3å›åå¾©ã™ã‚‹
#     ############################################################################################
#     for i in $(seq 0 2); do
#       ## ç« åŒºåˆ‡ã‚Šã‚’[chapter:XXXX]ã«
#       ### é–‰ã˜ã‚¿ã‚°</section><!--ltlbg_section-->ã‚’é™¤å»
#       ### <section class="ltlbg_section" id="XXX">ã‚’[chapter:]ã¸
#       cat tmp1_ltlbgtmp \
#       | sed -e 's/<\/section><!--ltlbg_section-->//g' \
#       | sed -e 's/<section class="ltlbg_section">/[chapter]/g' \
#       | sed -e 's/<section class="ltlbg_section" id="\([^"]\+\)">/[chapter:\1]/g' \
#       | sed -e 's/\[chapter:\]/\[chapter\]/g' \
#       >tmp2_ltlbgtmp

#       ## é–‰ã˜pã‚¿ã‚°ã‚’æ¶ˆã—ã€pã‚¿ã‚°ã‚’å…¨è§’ç©ºç™½ã¸ç½®æ›ã™ã‚‹
#       ## å…¨è§’ç©ºç™½ç›´å¾Œã®æ”¹è¡Œã¯å‰Šé™¤ã™ã‚‹(å…ƒã®pã‚¿ã‚°ãŒç›´å¾Œã«æ”¹è¡Œã—ã¦ã„ã‚‹ãŸã‚)
#       cat tmp2_ltlbgtmp \
#       | sed -e 's/<\/p><!--ltlbg_p-->//g' \
#       | sed -e 's/<p class="ltlbg_p">/<span class="ltlbg_wSp"><\/span>/g' \
#       | sed -z 's/<span class="ltlbg_wSp"><\/span>\n<span class="ltlbg_talk">/\n<span class="ltlbg_talk">/g' \
#       >tmp1_ltlbgtmp

#       ## æ‹¬å¼§é¡ã‚’å¾©æ—§
#       cat tmp1_ltlbgtmp \
#       | sed -e 's/<\/span><!--ltlbg_talk-->/ã€/g' \
#       | sed -e 's/<\/span><!--ltlbg_talk2-->/ã€/g' \
#       | sed -e 's/<\/span><!--ltlbg_think-->/ï¼‰/g' \
#       | sed -e 's/<\/span><!--ltlbg_wquote-->/ã€Ÿ/g' \
#       | sed -e 's/<\/span><!--ltlbg_dash-->//g' \
#       | sed -e 's/<\/span><!--ltlbg_citation-->//g' \
#       | sed -e 's/<span class="ltlbg_talk">/ã€Œ/g' \
#       | sed -e 's/<span class="ltlbg_talk2">/ã€/g' \
#       | sed -e 's/<span class="ltlbg_think">/ï¼ˆ/g' \
#       | sed -e 's/<span class="ltlbg_wquote">/ã€/g' \
#       | sed -e 's/<span class="ltlbg_dash">/â€•â€•/g' \
#       | sed -e 's/<span class="ltlbg_citation">/ï¼/g' \
#       >tmp2_ltlbgtmp

#       ## ç¸¦ä¸­æ¨ªã¨æ¨ªå¹…ä¿®æ­£ã‚’é™¤å»
#       cat tmp2_ltlbgtmp \
#       | sed -e 's/<span class=\"ltlbg_tcyA\">\([^<]\{2\}\)<\/span>/\1/g' \
#       | sed -e 's/<span class=\"ltlbg_wdfix\">\([^<]\)<\/span>/\1/g' \
#       >tmp1_ltlbgtmp

#       ## ã‚³ãƒ­ãƒ³ã¨ã‚»ãƒŸã‚³ãƒ­ãƒ³ã‚’å¾©æ—§
#       cat tmp1_ltlbgtmp \
#       | sed -e 's/<span class="ltlbg_semicolon">ï¼›<\/span>/ï¼›/g' \
#       | sed -e 's/<span class="ltlbg_colon">ï¼š<\/span>/ï¼š/g' \
#       >tmp2_ltlbgtmp

#       ## æ‹¬å¼§é¡ã®æ“¬ä¼¼æ®µè½è¨˜å·ã‚’é™¤å»
#       cat tmp2_ltlbgtmp \
#       | sed -e 's/<p class="ltlbg_p_brctGrp">//g' \
#       | sed -e 's/<\/p><\!--ltlbg_p_brctGrp-->//g' \
#       >tmp1_ltlbgtmp

#       ## <span class="ltlbg_dakuten">ã‚’ã€Œã‚›ã€ã«å¾©æ—§
#       ## <span class="ltlbg_tcyM">XX</span>ã‚’å¾©æ—§
#       ## <span class="ltlbg_wSize">å­—</span>ã‚’å¾©æ—§
#       ## <span class="ltlbg_odori1"></span><span class="ltlbg_odori2"></span>ã‚’å¾©æ—§
#       cat tmp1_ltlbgtmp \
#       | sed -e 's/<span class=\"ltlbg_dakuten\">\(.\)<\/span>/\1ã‚›/g' \
#       | sed -e 's/<span class=\"ltlbg_tcyM\">\([^<]\{1,3\}\)<\/span>/^\1^/g' \
#       | sed -e 's/<span class=\"ltlbg_wSize\">\(.\)<\/span>/\1\1/g' \
#       | sed -e 's/<span class=\"ltlbg_odori1\"><\/span>/ï¼/g' \
#       | sed -e 's/<span class=\"ltlbg_odori2\"><\/span>/ï¼¼/g' \
#       >tmp2_ltlbgtmp

#       ## å¼·åˆ¶åˆå­—<span class="ltlbg_forceGouji1">ã€<span class="ltlbg_forceGouji2">ã‚’[l[]r]ã¸å¾©æ—§
#       cat tmp2_ltlbgtmp \
#       | sed -e 's/<span class=\"ltlbg_forceGouji1\">\(.\)<\/span><span class=\"ltlbg_forceGouji2\">\(.\)<\/span>/[l[\1\2]r]/g' \
#       >tmp1_ltlbgtmp

#       ## å›è»¢æŒ‡å®š<span class="ltlbg_rotate"></span>ã‚’[^å­—^]ã¸å¾©æ—§
#       ## å¤ªå­—æŒ‡å®š<span class="ltlbg_bold"></span>ã‚’**å­—**ã¸å¾©æ—§
#       cat tmp1_ltlbgtmp \
#       | sed -e 's/<span class=\"ltlbg_rotate\">\(.\)<\/span>/\[\^\1\^\]/g' \
#       | sed -e 's/<span class=\"ltlbg_bold\">\([^<]\+\)<\/span>/\*\*\1\*\*/g' \
#       >tmp2_ltlbgtmp

#       ## <h2 class="ltlbg_sectionName">\1<\/h2>ã‚’è¡Œé ­â—†ã¸
#       ## <hr class="ltlbg_hr">ã‚’---ã¸ã€‚
#       cat tmp2_ltlbgtmp \
#       | sed -e 's/<h2 class=\"ltlbg_sectionName\">\([^<]\+\)<\/h2>/\1/g' \
#       | sed -e 's/<hr class=\"ltlbg_hr\">/---/g' \
#       >tmp1_ltlbgtmp

#       ## ãƒ¢ãƒãƒ«ãƒ“ã‚’å¾©æ—§
#       cat tmp1_ltlbgtmp >tmp2_ltlbgtmp
#       #3å›ç¹°ã‚Šè¿”ã™ã®ã§ãƒ«ãƒ¼ãƒ—æœ«å°¾ã§å‡ºåŠ›ã—ã¦ã„ã‚‹ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰é–‹å§‹ã•ã‚Œã‚‹ã‚ˆã†èª¿æ•´ã™ã‚‹
#       cat tmp2_ltlbgtmp >tmp1_ltlbgtmp
#     done

#     ############################################################################################
#     #è¤‡æ•°å›ã®ç½®æ›ã‚’å¿…è¦ã¨ã—ãªã„(é€”ä¸­ã§æˆ»ã‚‹ã¨ä¸éƒ½åˆã®ã‚ã‚‹)å¾©æ—§
#     ############################################################################################
#     ## ã€Œ&lt;ã€  ã‚’ã€Œ<ã€(åŠè§’)ã¸å¤‰æ›
#     ## ã€Œ&gt;ã€  ã‚’ã€Œ>ã€(åŠè§’)ã¸å¤‰æ›
#     ## ã€Œ&amp;ã€ ã‚’ã€Œ&ã€(åŠè§’)ã¸å¤‰æ›
#     ## ã€Œ&quot;ã€ã‚’ã€Œ'ã€(åŠè§’)ã¸å¤‰æ›
#     ## ã€Œ&#39;ã€ ã‚’ã€Œ"ã€(åŠè§’)ã¸å¤‰æ›
#     cat tmp2_ltlbgtmp \
#     | sed -e 's/&amp;/\&/g' \
#     | sed -e 's/&lt;/</g' \
#     | sed -e 's/&gt;/>/g' \
#     | sed -e 's/&quot;/'\''/g' \
#     | sed -e 's/&#39;/\"/g' \
#     >tmp1_ltlbgtmp

#     ## ã“ã“ã¾ã§ç”Ÿã˜ã¦ã„ã‚‹ãƒãƒ¼ãƒ‰ç©ºè¡Œã¯å‰¯ç”£ç‰©ãªã®ã§å‰Šé™¤
#     ## ãã®ä¸Šã§ã€<br class="ltlbg_br">ã€<br class="ltlbg_blankline">ã‚’å‰Šé™¤
#     cat tmp1_ltlbgtmp \
#     | sed -z 's/^\n//g' \
#     | sed -e 's/<br class=\"ltlbg_br\">//g' \
#     | sed -e 's/^<br class=\"ltlbg_blankline\">//g' \
#     | sed -e 's/<span class=\"ltlbg_wSp\"><\/span>/ã€€/g' \
#     | sed -e 's/<span class=\"ltlbg_sSp\"><\/span>/ /g' \
#     | sed -z 's/ã€€\n/\n/g' \
#     >tmp2_ltlbgtmp

#     #################################################################################
#     #ãƒ«ãƒ“ã¨å‚ç‚¹ã®å¾©æ—§ã¯æœ€å¾Œã€‚å‚ç‚¹ã¨ãƒ¢ãƒãƒ«ãƒ“ã¯ç‰¹æ®Šãªæˆ»ã—ä½œæ¥­ã‚’è¦ã™ã‚‹ã€‚
#     #################################################################################
#     ## ãƒ¢ãƒãƒ«ãƒ“ä»¥å¤–ã®<span class="ltlbg_ruby" data-ruby_XXX="XXX"></span>ã‚’å¾©æ—§
#     cat tmp2_ltlbgtmp \
#     | sed -e 's/<ruby class="ltlbg_ruby" data-ruby_[^=]\+="\([^"]\+\)">\([^<]\+\)<rt>[^<]\+<\/rt><\/ruby>/{\2ï½œ\1}/g' \
#     >tmp1_ltlbgtmp

#     #é †åºã®å…¥ã‚Œæ›¿ãˆ
#     cat tmp1_ltlbgtmp \
#     | sed -e 's/\*\*{\([^ï½œ]\+\)ï½œ\([^\}]\+\)}\*\*/{\*\*\1\*\*ï½œ\2}/g' \
#     > tmp2_ltlbgtmp

#     ## å‚ç‚¹ã‚¿ã‚°ã‚’ã€Šã€ŠåŸºåº•æ–‡å­—ã€‹ã€‹ã¸å¾©æ—§ã™ã‚‹
#     ## <ruby class=\"ltlbg_emphasis\" data-ruby_emphasis=\"[^]]\">ã€œã§æŠ½å‡ºã—ãŸã‚‚ã®ã‚’ç½®æ›å…ƒã¨ã™ã‚‹ã€‚
#     ## åŸºåº•æ–‡å­—ã ã‘ã‚’æŒã¤ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã€ãƒ«ãƒ“ã ã‘ã‚’æŒã¤ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€ç½®æ›å…ˆã¨ã™ã‚‹ã€‚
#     ## ç½®æ›æ©Ÿèƒ½ã‚’æŒã£ãŸä¸­é–“ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã—ã€å®Ÿè¡Œã™ã‚‹ã€‚
#     cat tmp2_ltlbgtmp \
#     | sed -e 's/<ruby class=\"ltlbg_emphasis\" data-emphasis=\".\">\([^<]\+\)<rt>.<\/rt><\/ruby>/ã€Šã€Š\1ã€‹ã€‹/g' \
#     >tmp1_ltlbgtmp

#     #3å›ç¹°ã‚Šè¿”ã™ã®ã§ãƒ«ãƒ¼ãƒ—æœ«å°¾ã§å‡ºåŠ›ã—ã¦ã„ã‚‹ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰é–‹å§‹ã•ã‚Œã‚‹ã‚ˆã†èª¿æ•´ã™ã‚‹
#     #cat tmp2_ltlbgtmp >tmp1_ltlbgtmp
#   done
#   # ãƒ«ãƒ¼ãƒ—çµ‚äº†å¾Œã®çµæœã‚‚tmp1_ltlbgtmpã«å‡ºåŠ›ã•ã‚Œã‚‹

#   # ãƒ¢ãƒãƒ«ãƒ“å¯¾å¿œã€‚#######################################################
#   # ãƒ¢ãƒãƒ«ãƒ“ã¯ã€ã“ã“ã¾ã§ã®å‡¦ç†ã§ã¯{ãƒ¢ãƒãƒ«ãƒ“ï½œã‚‚ã®ã‚‹ã³}ã§ã¯ãªã
#   # {ãƒ¢ï½œã‚‚}{ãƒï½œã®}{ãƒ«ï½œã‚‹}{ãƒ“ï½œã³}ã¨ãªã£ã¦ã„ã‚‹ã®ã§ã“ã‚Œã‚’å¾©æ—§ã™ã‚‹ã€‚
#   # å…¥åŠ›ã¯tmp1_ltlbgtmpã®æƒ³å®šã€‚
#   #######################################################################
#   #cat tmp2_ltlbgtmp >tmp1_ltlbgtmp
#   cat tmp1_ltlbgtmp >monorubyInput_ltlbgtmp 

#   cat monorubyInput_ltlbgtmp \
#   | grep -E -o '(\{[^ï½œ]+ï½œ[^}]+\}){2,}' \
#   | uniq \
#   | sed -e 's/\//\\\//g' \
#   | sed -e 's/\[/\\\[/g' \
#   | sed -e 's/\]/\\\]/g' \
#   | sed -e 's/\^/\\\^/g' \
#   | sed -e 's/\~/\\\~/g' \
#   | sed -e 's/\*/\\\*/g' \
#   | sed -e 's/\"/\\\"/g' \
#   > tgt_ltlbgtmp

#   if [ -s tgt_ltlbgtmp ]; then
#     cat tgt_ltlbgtmp \
#     | while read line || [ -n "${line}" ]; do \
#         echo ${line} \
#         | grep -E -o '\{[^ï½œ]+ï½œ' \
#         | sed -e 's/^{//g' \
#         | sed -e 's/ï½œ$//g' \
#         | sed -z 's/\n//g' \
#         | sed -e 's/^/\{/g' \
#             | sed -e 's/\//\\\//g' \
#             | sed -e 's/\[/\\\[/g' \
#             | sed -e 's/\]/\\\]/g' \
#             | sed -e 's/\^/\\\^/g' \
#             | sed -e 's/\~/\\\~/g' \
#             | sed -e 's/\*/\\\*/g' \
#             | sed -e 's/\"/\\\"/g' \

#         echo -n 'ï½œ'

#         echo ${line} \
#         | grep -E -o 'ï½œ[^}]+\}' \
#         | sed -e 's/^ï½œ//g' \
#         | sed -e 's/}$//g' \
#         | sed -z 's/\n//g' \
#         | sed -e 's/$/\}/g' \
#             | sed -e 's/\//\\\//g' \
#             | sed -e 's/\[/\\\[/g' \
#             | sed -e 's/\]/\\\]/g' \
#             | sed -e 's/\^/\\\^/g' \
#             | sed -e 's/\~/\\\~/g' \
#             | sed -e 's/\*/\\\*/g' \
#             | sed -e 's/\"/\\\"/g' \

#         echo ''
#     done \
#     > rep_ltlbgtmp

#     paste -d '/' tgt_ltlbgtmp rep_ltlbgtmp \
#     | sed -e 's/^/| sed -e '\''s\//g' \
#     | sed -e 's/$/\/g'\'' \\/g' \
#     | sed -z 's/^/cat monorubyInput_ltlbgtmp \\\n/g' \
#     > tmp.sh
#     bash tmp.sh >monorubyOutput_ltlbgtmp
#   else 
#     cat monorubyInput_ltlbgtmp >monorubyOutput_ltlbgtmp
#   fi
#   cat monorubyOutput_ltlbgtmp >tmp1_ltlbgtmp
#   ########################ãƒ¢ãƒãƒ«ãƒ“å¯¾å¿œã“ã“ã¾ã§ã€‚å‡ºåŠ›ã¯tmp1_ltlbgtmp

#   #å‚ç‚¹å¯¾å¿œ#################################################################################
#   # å‚ç‚¹ã¯1å­—ãšã¤è¨­å®šã•ã‚Œã¦ã„ã‚‹ã®ã§ã“ã“ã¾ã§ã®å‡¦ç†ã§ã¯
#   # ã€Šãƒ¢ãƒãƒ«ãƒ“ã€‹ã§ã¯ãªãã€Šãƒ¢ã€‹ã€Šãƒã€‹ã€Šãƒ«ã€‹ã€Šãƒ«ãƒ“ã€‹ã¨ãªã£ã¦ã„ã‚‹ã®ã§ã“ã‚Œã‚’å¾©æ—§ã™ã‚‹
#   # å…¥åŠ›ã¯tmp1_ltlbgtmpã®æƒ³å®š
#   ##########################################################################################
#   #cat tmp2_ltlbgtmp >tmp1_ltlbgtmp
#   cat tmp1_ltlbgtmp >emphasisInput_ltlbgtmp 
#   cat emphasisInput_ltlbgtmp \
#   | grep -E -o '(ã€Šã€Š[^ã€‹]+ã€‹ã€‹[ ã€€]?){2,}' \
#   | uniq \
#   >emphtmp_ltlbgtmp

#   #ã€Šã€Šã€‹ã€‹ãŒé€£ç¶šã—ã¦ã„ã‚‹(è¤‡æ•°æ–‡å­—ã®å‚ç‚¹)ãŒå­˜åœ¨ã—ãªã‘ã‚Œã°å®Ÿæ–½ã—ãªã„
#   if [[ -s emphtmp_ltlbgtmp ]]; then 
#     cat emphtmp_ltlbgtmp \
#     | sed -e 's/\//\\\//g' \
#     | sed -e 's/\[/\\\[/g' \
#     | sed -e 's/\]/\\\]/g' \
#     | sed -e 's/\^/\\\^/g' \
#     | sed -e 's/\~/\\\~/g' \
#     | sed -e 's/\*/\\\*/g' \
#     | sed -e 's/\"/\\\"/g' \
#     | sed -e 's/^/| sed -e '\''s\//g' \
#     >tgt_ltlbgtmp

#     cat emphtmp_ltlbgtmp \
#     | sed -e 's/[ã€Šã€‹]//g' \
#     | sed -e 's/^/ã€Šã€Š/g' \
#     | sed -e 's/$/ã€‹ã€‹/g' \
#     | sed -e 's/$/\/g'\'' \\/g' \
#     >rep_ltlbgtmp

#     paste -d '/t' tgt_ltlbgtmp rep_ltlbgtmp \
#     | sed -z 's/^/cat emphasisInput_ltlbgtmp \\\n/g' \
#     >tmp.sh
#     bash tmp.sh > emphasisOutput_ltlbgtmp
#   else
#     cat emphasisInput_ltlbgtmp >emphasisOutput_ltlbgtmp
#   fi

#   cat emphasisOutput_ltlbgtmp >tmp1_ltlbgtmp
#   ########################å‚ç‚¹å¯¾å¿œã“ã“ã¾ã§ã€‚å‡ºåŠ›ã¯tmp1_ltlbgtmpã®æƒ³å®š

#   cat tmp1_ltlbgtmp >${destFile}
#   echo "âœ¨ "${destFile}"ã‚’å‡ºåŠ›ã—ã¾ã—ãŸ[txtã‚‚ã©ã—]"
# fi
exit 0
